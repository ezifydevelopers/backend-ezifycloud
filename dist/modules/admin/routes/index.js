"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const auth_1 = require("../../../middleware/auth");
const dashboardController_1 = require("../controllers/dashboardController");
const employeeController_1 = require("../controllers/employeeController");
const leaveRequestController_1 = require("../controllers/leaveRequestController");
const leavePolicyController_1 = require("../controllers/leavePolicyController");
const settingsController_1 = require("../controllers/settingsController");
const holidayController_1 = require("../controllers/holidayController");
const attendanceController_1 = require("../controllers/attendanceController");
const salaryController_1 = require("../controllers/salaryController");
const schemas_1 = require("../schemas");
const validation_1 = require("../../../utils/validation");
const router = (0, express_1.Router)();
router.use(auth_1.authenticateToken);
router.use((0, auth_1.requireRole)(['admin']));
router.get('/dashboard/stats', (0, validation_1.validateQuery)(schemas_1.adminSchemas.dashboardStats), dashboardController_1.DashboardController.getDashboardStats);
router.get('/dashboard/quick-stats', dashboardController_1.DashboardController.getQuickStats);
router.get('/dashboard/department-stats', (0, validation_1.validateRequest)(schemas_1.adminSchemas.dateRange), dashboardController_1.DashboardController.getDepartmentStats);
router.get('/dashboard/recent-activities', dashboardController_1.DashboardController.getRecentActivities);
router.get('/dashboard/monthly-trend', (0, validation_1.validateRequest)(schemas_1.adminSchemas.dateRange), dashboardController_1.DashboardController.getMonthlyLeaveTrend);
router.get('/dashboard/overview', dashboardController_1.DashboardController.getSystemOverview);
router.get('/employees', (0, validation_1.validateRequest)(schemas_1.adminSchemas.employeeFilters), employeeController_1.EmployeeController.getEmployees);
router.get('/employees/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), employeeController_1.EmployeeController.getEmployeeById);
router.post('/employees', (0, validation_1.validateRequest)(schemas_1.adminSchemas.createEmployee), employeeController_1.EmployeeController.createEmployee);
router.put('/employees/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.adminSchemas.updateEmployee), employeeController_1.EmployeeController.updateEmployee);
router.delete('/employees/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), employeeController_1.EmployeeController.deleteEmployee);
router.patch('/employees/:id/toggle-status', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.adminSchemas.toggleEmployeeStatus), employeeController_1.EmployeeController.toggleEmployeeStatus);
router.patch('/employees/bulk-update-status', (0, validation_1.validateRequest)(schemas_1.adminSchemas.bulkUpdateEmployeeStatus), employeeController_1.EmployeeController.bulkUpdateEmployeeStatus);
router.delete('/employees/bulk-delete', (0, validation_1.validateRequest)(schemas_1.adminSchemas.bulkDeleteEmployees), employeeController_1.EmployeeController.bulkDeleteEmployees);
router.patch('/employees/bulk-update-department', (0, validation_1.validateRequest)(schemas_1.adminSchemas.bulkUpdateEmployeeDepartment), employeeController_1.EmployeeController.bulkUpdateEmployeeDepartment);
router.get('/employees/:id/leave-balance', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), employeeController_1.EmployeeController.getEmployeeLeaveBalance);
router.get('/employees/departments', employeeController_1.EmployeeController.getDepartments);
router.get('/employees/managers', employeeController_1.EmployeeController.getManagers);
router.get('/employees/stats', employeeController_1.EmployeeController.getEmployeeStats);
router.get('/employees/export', employeeController_1.EmployeeController.exportEmployeesToCSV);
router.get('/leave-requests', (0, validation_1.validateRequest)(schemas_1.adminSchemas.leaveRequestFilters), leaveRequestController_1.LeaveRequestController.getLeaveRequests);
router.get('/leave-requests/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), leaveRequestController_1.LeaveRequestController.getLeaveRequestById);
router.patch('/leave-requests/:id/status', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.adminSchemas.updateLeaveRequestStatus), leaveRequestController_1.LeaveRequestController.updateLeaveRequestStatus);
router.patch('/leave-requests/bulk-update', (0, validation_1.validateRequest)(schemas_1.adminSchemas.bulkUpdateLeaveRequests), leaveRequestController_1.LeaveRequestController.bulkUpdateLeaveRequests);
router.get('/leave-requests/stats', leaveRequestController_1.LeaveRequestController.getLeaveRequestStats);
router.get('/leave-requests/types', leaveRequestController_1.LeaveRequestController.getLeaveTypes);
router.get('/leave-requests/recent', leaveRequestController_1.LeaveRequestController.getRecentLeaveRequests);
router.get('/leave-requests/pending-count', leaveRequestController_1.LeaveRequestController.getPendingCount);
router.get('/policies', (0, validation_1.validateRequest)(schemas_1.adminSchemas.leavePolicyFilters), leavePolicyController_1.LeavePolicyController.getLeavePolicies);
router.get('/policies/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), leavePolicyController_1.LeavePolicyController.getLeavePolicyById);
router.post('/policies', (0, validation_1.validateRequest)(schemas_1.adminSchemas.createLeavePolicy), leavePolicyController_1.LeavePolicyController.createLeavePolicy);
router.put('/policies/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.adminSchemas.updateLeavePolicy), leavePolicyController_1.LeavePolicyController.updateLeavePolicy);
router.delete('/policies/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), leavePolicyController_1.LeavePolicyController.deleteLeavePolicy);
router.patch('/policies/:id/toggle-status', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.adminSchemas.toggleLeavePolicyStatus), leavePolicyController_1.LeavePolicyController.toggleLeavePolicyStatus);
router.get('/policies/stats', leavePolicyController_1.LeavePolicyController.getLeavePolicyStats);
router.get('/policies/types', leavePolicyController_1.LeavePolicyController.getLeavePolicyTypes);
router.patch('/policies/bulk-update', (0, validation_1.validateRequest)(schemas_1.adminSchemas.bulkUpdateLeavePolicies), leavePolicyController_1.LeavePolicyController.bulkUpdateLeavePolicies);
router.get('/settings', settingsController_1.SettingsController.getAllSettings);
router.get('/settings/company', settingsController_1.SettingsController.getCompanySettings);
router.put('/settings/company', (0, validation_1.validateRequest)(schemas_1.adminSchemas.companySettings), settingsController_1.SettingsController.updateCompanySettings);
router.get('/settings/leave', settingsController_1.SettingsController.getLeaveSettings);
router.put('/settings/leave', (0, validation_1.validateRequest)(schemas_1.adminSchemas.leaveSettings), settingsController_1.SettingsController.updateLeaveSettings);
router.get('/settings/notification', settingsController_1.SettingsController.getNotificationSettings);
router.put('/settings/notification', (0, validation_1.validateRequest)(schemas_1.adminSchemas.notificationSettings), settingsController_1.SettingsController.updateNotificationSettings);
router.get('/settings/security', settingsController_1.SettingsController.getSecuritySettings);
router.put('/settings/security', (0, validation_1.validateRequest)(schemas_1.adminSchemas.securitySettings), settingsController_1.SettingsController.updateSecuritySettings);
router.get('/settings/system-config', settingsController_1.SettingsController.getSystemConfigSettings);
router.put('/settings/system-config', (0, validation_1.validateRequest)(schemas_1.adminSchemas.systemConfigSettings), settingsController_1.SettingsController.updateSystemConfigSettings);
router.post('/settings/reset', settingsController_1.SettingsController.resetSettingsToDefault);
router.get('/settings/export', settingsController_1.SettingsController.exportSettings);
router.post('/settings/import', settingsController_1.SettingsController.importSettings);
router.get('/settings/history', settingsController_1.SettingsController.getSettingsHistory);
router.get('/holidays', (0, validation_1.validateQuery)(schemas_1.adminSchemas.holidayQuery), holidayController_1.HolidayController.getHolidays);
router.get('/holidays/stats', holidayController_1.HolidayController.getHolidayStats);
router.get('/holidays/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), holidayController_1.HolidayController.getHolidayById);
router.post('/holidays', (0, validation_1.validateRequest)(schemas_1.adminSchemas.createHoliday), holidayController_1.HolidayController.createHoliday);
router.put('/holidays/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.adminSchemas.updateHoliday), holidayController_1.HolidayController.updateHoliday);
router.delete('/holidays/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), holidayController_1.HolidayController.deleteHoliday);
router.patch('/holidays/:id/status', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.adminSchemas.toggleHolidayStatus), holidayController_1.HolidayController.toggleHolidayStatus);
router.get('/attendance', attendanceController_1.AttendanceController.getAttendanceRecords);
router.get('/attendance/stats', attendanceController_1.AttendanceController.getAttendanceStats);
router.get('/attendance/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), attendanceController_1.AttendanceController.getAttendanceRecordById);
router.post('/attendance', attendanceController_1.AttendanceController.createAttendanceRecord);
router.put('/attendance/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), attendanceController_1.AttendanceController.updateAttendanceRecord);
router.delete('/attendance/:id', (0, validation_1.validateParams)(schemas_1.adminSchemas.idParam), attendanceController_1.AttendanceController.deleteAttendanceRecord);
router.get('/attendance/user/:userId', attendanceController_1.AttendanceController.getUserAttendanceRecords);
router.get('/salaries/employees', salaryController_1.SalaryController.getEmployeeSalaries);
router.get('/salaries/monthly', (0, validation_1.validateQuery)(schemas_1.adminSchemas.salaryQuery), salaryController_1.SalaryController.getMonthlySalaries);
router.post('/salaries/generate', (0, validation_1.validateRequest)(schemas_1.adminSchemas.generateSalarySchema), salaryController_1.SalaryController.generateMonthlySalaries);
router.put('/salaries/:salaryId/approve', (0, validation_1.validateRequest)(schemas_1.adminSchemas.approveSalarySchema), salaryController_1.SalaryController.approveMonthlySalary);
router.get('/salaries/statistics', (0, validation_1.validateQuery)(schemas_1.adminSchemas.salaryQuery), salaryController_1.SalaryController.getSalaryStatistics);
router.get('/salaries/calculate/:userId', (0, validation_1.validateQuery)(schemas_1.adminSchemas.salaryQuery), salaryController_1.SalaryController.calculateEmployeeSalary);
exports.default = router;
//# sourceMappingURL=index.js.map