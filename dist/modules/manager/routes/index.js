"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const auth_1 = require("../../../middleware/auth");
const dashboardController_1 = require("../controllers/dashboardController");
const teamController_1 = require("../controllers/teamController");
const approvalController_1 = require("../controllers/approvalController");
const leavePolicyController_1 = require("../controllers/leavePolicyController");
const leaveRequestController_1 = require("../controllers/leaveRequestController");
const holidayController_1 = require("../controllers/holidayController");
const salaryController_1 = require("../controllers/salaryController");
const schemas_1 = require("../schemas");
const validation_1 = require("../../../utils/validation");
const router = (0, express_1.Router)();
router.use(auth_1.authenticateToken);
router.use((0, auth_1.requireRole)(['manager']));
router.get('/dashboard/stats', (0, validation_1.validateQuery)(schemas_1.managerSchemas.managerDashboardStats), dashboardController_1.ManagerDashboardController.getDashboardStats);
router.get('/dashboard/quick-stats', dashboardController_1.ManagerDashboardController.getQuickStats);
router.get('/dashboard/team-performance', dashboardController_1.ManagerDashboardController.getTeamPerformance);
router.get('/dashboard/upcoming-leaves', dashboardController_1.ManagerDashboardController.getUpcomingLeaves);
router.get('/dashboard/recent-activities', dashboardController_1.ManagerDashboardController.getRecentActivities);
router.get('/dashboard/team-leave-balance', dashboardController_1.ManagerDashboardController.getTeamLeaveBalance);
router.get('/dashboard/department-stats', (0, validation_1.validateRequest)(schemas_1.managerSchemas.dateRange), dashboardController_1.ManagerDashboardController.getDepartmentStats);
router.get('/team/members', (0, validation_1.validateRequest)(schemas_1.managerSchemas.teamFilters), teamController_1.TeamController.getTeamMembers);
router.get('/team/members/:id', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), teamController_1.TeamController.getTeamMemberById);
router.post('/team/members', (0, validation_1.validateRequest)(schemas_1.managerSchemas.addTeamMember), teamController_1.TeamController.addTeamMember);
router.put('/team/members/:id', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.managerSchemas.updateTeamMember), teamController_1.TeamController.updateTeamMember);
router.patch('/team/members/:id/toggle-status', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.managerSchemas.toggleTeamMemberStatus), teamController_1.TeamController.toggleTeamMemberStatus);
router.get('/team/members/:id/leave-balance', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), teamController_1.TeamController.getTeamMemberLeaveBalance);
router.get('/team/stats', teamController_1.TeamController.getTeamStats);
router.get('/team/departments', teamController_1.TeamController.getTeamDepartments);
router.get('/team/members/:id/performance', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), teamController_1.TeamController.getTeamMemberPerformance);
router.get('/team/members/:id/recent-leaves', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), teamController_1.TeamController.getTeamMemberRecentLeaves);
router.get('/team/performance', teamController_1.TeamController.getTeamPerformance);
router.get('/team/capacity', teamController_1.TeamController.getTeamCapacity);
router.get('/approvals', (0, validation_1.validateQuery)(schemas_1.managerSchemas.approvalFilters), approvalController_1.ApprovalController.getLeaveApprovals);
router.get('/approvals/:id', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), approvalController_1.ApprovalController.getLeaveApprovalById);
router.post('/approvals/process', (0, validation_1.validateRequest)(schemas_1.managerSchemas.approvalAction), approvalController_1.ApprovalController.processApprovalAction);
router.post('/approvals/bulk-process', (0, validation_1.validateRequest)(schemas_1.managerSchemas.bulkApprovalAction), approvalController_1.ApprovalController.processBulkApprovalAction);
router.get('/approvals/stats', approvalController_1.ApprovalController.getApprovalStats);
router.get('/approvals/pending-count', approvalController_1.ApprovalController.getPendingCount);
router.get('/approvals/urgent', approvalController_1.ApprovalController.getUrgentApprovals);
router.get('/approvals/history', approvalController_1.ApprovalController.getApprovalHistory);
router.get('/policies', (0, validation_1.validateRequest)(schemas_1.managerSchemas.leavePolicyFilters), leavePolicyController_1.LeavePolicyController.getLeavePolicies);
router.get('/policies/stats', leavePolicyController_1.LeavePolicyController.getLeavePolicyStats);
router.get('/policies/types', leavePolicyController_1.LeavePolicyController.getLeavePolicyTypes);
router.get('/policies/:id', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), leavePolicyController_1.LeavePolicyController.getLeavePolicyById);
router.get('/profile', dashboardController_1.ManagerDashboardController.getProfile);
router.put('/profile', (0, validation_1.validateRequest)(schemas_1.managerSchemas.updateProfile), dashboardController_1.ManagerDashboardController.updateProfile);
router.post('/leave-requests', (0, validation_1.validateRequest)(schemas_1.managerSchemas.leaveRequestForm), leaveRequestController_1.LeaveRequestController.createLeaveRequest);
router.get('/leave-requests', leaveRequestController_1.LeaveRequestController.getLeaveRequests);
router.get('/leave-requests/:id', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), leaveRequestController_1.LeaveRequestController.getLeaveRequestById);
router.put('/leave-requests/:id', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), (0, validation_1.validateRequest)(schemas_1.managerSchemas.updateLeaveRequest), leaveRequestController_1.LeaveRequestController.updateLeaveRequest);
router.delete('/leave-requests/:id', (0, validation_1.validateParams)(schemas_1.managerSchemas.idParam), leaveRequestController_1.LeaveRequestController.cancelLeaveRequest);
router.get('/leave-history', (0, validation_1.validateQuery)(schemas_1.managerSchemas.leaveHistoryFilters), leaveRequestController_1.LeaveRequestController.getLeaveHistory);
router.get('/leave-requests/recent', leaveRequestController_1.LeaveRequestController.getRecentRequests);
router.get('/leave-balance', leaveRequestController_1.LeaveRequestController.getLeaveBalance);
router.get('/holidays/upcoming', holidayController_1.HolidayController.getUpcomingHolidays);
router.get('/holidays/year', holidayController_1.HolidayController.getHolidaysByYear);
router.get('/salaries/team', salaryController_1.SalaryController.getTeamSalaries);
router.get('/salaries/monthly', (0, validation_1.validateQuery)(schemas_1.managerSchemas.salaryQuery), salaryController_1.SalaryController.getTeamMonthlySalaries);
router.post('/salaries/generate', (0, validation_1.validateRequest)(schemas_1.managerSchemas.generateSalarySchema), salaryController_1.SalaryController.generateTeamMonthlySalaries);
router.put('/salaries/:salaryId/approve', (0, validation_1.validateRequest)(schemas_1.managerSchemas.approveSalarySchema), salaryController_1.SalaryController.approveTeamMonthlySalary);
router.get('/salaries/statistics', (0, validation_1.validateQuery)(schemas_1.managerSchemas.salaryQuery), salaryController_1.SalaryController.getTeamSalaryStatistics);
router.get('/salaries/calculate/:userId', (0, validation_1.validateQuery)(schemas_1.managerSchemas.salaryQuery), salaryController_1.SalaryController.calculateTeamMemberSalary);
exports.default = router;
//# sourceMappingURL=index.js.map